<div class="box box-info box-solid">
  <div class="box-header with-border">
    <h3 class="box-title"><input type="checkbox" ng-checked="isMiddlewareEnabled()"
        ng-click="toggleMiddleware()"> NewRelic (Native SDK)</h3>
    <div class="pull-right" ng-include src="'/src/app/layout/docs.html'"
      ng-repeat="doc in [{'ee': true, 'url':'/telemetry/newrelic/'}]"></div>
  </div>
  <div class="box-body">
    <p ng-if="!isMiddlewareEnabled()">Push KrakenD metrics and distributed traces to your New Relic dashboard.</p>
    <div ng-if="isMiddlewareEnabled()">
      <div class="form-group">
        <div class="row">
          <div class="col-md-6">
            <label class="control-label">License</label>
            <input type="text" class="form-control" ng-model="data.extra_config[config_namespace].license"
              placeholder="XXXX">
            <span class="help-block">
              The API key provided by New Relic to push data into your account.
            </span>
          </div>
          <div class="col-md-6">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="data.extra_config[config_namespace].debug">
                <strong>Debug</strong>
              </label>
              <span class="help-block">Set to true when configuring New Relic for the first time while in development,
                to see the activity in the logs. Set to false in production.</span>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col-md-12">
            <label class="control-label" for="data.extra_config[config_namespace].headers_to_pass">Headers to
              Pass</label>
            <div class="input-group">
              <input class="form-control" placeholder="my-indexing" type="text" required=""
                ng-model="input_headers_to_pass">
              <div class="input-group-btn">
                <button type="button" class="btn btn-success"
                  ng-click="addTermToList(input_headers_to_pass,'headers_to_pass')">
                  <i class="fa fa-plus"></i>
                </button>
              </div>
            </div>
            <span class="help-block">Defines an explicit list of headers sent during the client request that will be
              reported to NewRelic, in addition to the default headers NewRelic sets. Setting the <code>*</code> value will send
              all headers sent by the client to NewRelic. Whether you declare this setting or not, you will usually
              receive from the NewRelic SDK the <code>Accept</code>, <code>Content-Type</code>, <code>User-Agent</code>, and <code>Referer</code> headers.</span>
              <ul class="list-unstyled list-inline">
                <li ng-repeat="(index,header) in data.extra_config[config_namespace].headers_to_pass">
                  <a class="badge code badge-remove" ng-click="deleteIndexFromList(index,'headers_to_pass')"><i
                      class="fa fa-times"></i>
                    {{ header }}</a>
                </li>
              </ul>

          </div>
        </div>
      </div>

    </div>
  </div>
</div>